适用于官方发布。

官方发布的功能已经非常完善了，在「发布」页面可以很详细地设置站点属性，也可以通过 publish.css 来自定义样式，但是对自定义域名支持并不良好。尽管官方已经在文档里面说明了自定义域名的步骤，但是好渴鹅仍然在配置域名的时候遇到了很大的困难，在此就分享配置过程。

首先，我们需要找一家域名提供商和域名服务商。这里建议直接使用官方推荐（也是保证一定能成功）的 [Cloudflare](https://www.cloudflare-cn.com/) 作为提供商/服务商，各项服务安排得明明白白，而且由于在国外不需要麻烦的实名认证和域名备案。

注册完用户之后，即可来到 Dashboard 页面。在左侧 Domain Registration 里面找到 Register Domains（登记域名，已经登记了的可以跳过这一步），搜索喜欢的名字，挑选一个通过信用卡或者是 PayPal 支付。

接下来回到 Dashboard，同样是 Domain Registration，点击 Manage Domain（管理域名），找到刚才注册的域名并点击 Manage，在右边 Quick actions 点击 Update DNS configuration，即可来到 DNS 解析记录页面。

在下方 DNS management for xxx 可以查看已生效的解析，或者是添加新的解析。我们点击 Add Record，Type（类型）选择 CNAME，Name 输入域名前缀，例如你的域名是 domain.com，想要让 www.domain.com 作为网站域名就输入 www，@ 表示根域名，即 domain.com。Target（目标）输入 Obsidian 官方文档里面要求输入的 publish-main.obsidian.md，注意不要有任何更改。然后将 Proxy status 打开，TTL 不变，点击 Save 即可。

接着我们点击左边的 SSL/TLS，看到右边的 SSL/TLS encryption，点击 Configure，将 Custom SSL/TLS 设置为 Full。（这一点非常重要，不然默认的 Flexible 会导致循环重定向）

然后打开我们的 Obsidian，打开发布，打开网站设置，点击自定义域名，在自定义 URL 里面输入刚才的域名，注意解析记录里面如果填了域名前缀的话也要加上，然后一路保存。

等待十分钟……不出意外地好了，如果没有成功可以顺着网线给我一巴掌。